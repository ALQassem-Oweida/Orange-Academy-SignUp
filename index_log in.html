<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <script src="./bootstrap.js"></script>
    <link rel="stylesheet" href="./Style.css">
    <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet">
    <link rel="stylesheet" href="./bootstrap.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">


</head>
<body>

    <div class="Main_Orange_Registry">
        <div class="img_slide ">
            <div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="./Pic/1.jpg" class="d-block w-100" alt="Orange_pic1">
                    </div>
                    <div class="carousel-item">
                        <img src="./Pic/3.jpg" class="d-block w-100" alt="Orange_pic2">
                    </div>

                </div>

            </div>
        </div>

        <div class="nav_bar">
           <a  href="./index.html"> <img style="width:100% ;"src="./Pic/logo.png"></a>
            <div class="empty"></div>
            <ul>
                <li><a href="https://orangecodingacademy.com/help">Help</a></li>
                <li><a href="https://orangecodingacademy.com/terms">Terms & Conditions</a></li>
            </ul>
        </div>


        <div class="form-section">
            <form class="Main_form" action="">
                <div id="LogV"></div>
                <h2>Sign in</h2><br>
                <label><span class="S2">Email address </span><span class="S1">*</span></label>
                <input id="xEmail" type="text" required>

                <!-- ***************************** -->

                <div class="text_svg">
                    <svg class="svg1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="green"
                        class="bi bi-exclamation-triangle" viewBox="0 0 16 16">
                        <path
                            d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z" />
                        <path
                            d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z" />
                    </svg>

                    <div id="em_check">The email field is required..</div>
                </div>
                <address>eg: username@domain.com</address>

                <!-- ***************************** -->



                <label><span class="S2">Password</span> <span class="S1">*</span></label>
                <div id="flotEyeBox">
                    <input id="xPass" type="password" style="width:95%" required>

                    <!-- *////////////*** The eye ***//////////////*** -->

                    <i class="far fa-eye" id="togglePassword"></i> 
                </div>

                <!-- ***************************** -->

                <div class="text_svg">
                    <svg class="svg1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="green"
                        class="bi bi-exclamation-triangle" viewBox="0 0 16 16">
                        <path
                            d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z" />
                        <path
                            d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z" />
                    </svg>
                  
                    <div id="pass_check">The password field is required.</div>
          
                </div><br>
                <div><a id="forgettt" target="_blank" href="https://orangecodingacademy.com/password/reset">Forgot your password?</a></div>
                <br>

                <!-- ***************************** -->
            

                    <button id="B1" class="btn btn-primary" type="submit">Login</button><br>

          


            </form>
        </div>
    </div>



    <script>


        document.getElementById('B1').onclick = function () { Validation() }

        function Validation() {
            //************* for Email Validation *****************************
            let inputMail = xEmail.value;
            let validMail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
        
          
            if (inputMail.match(validMail)  ) {
                document.getElementById('em_check').style.display = "none";
                document.getElementsByClassName('svg1')[0].style.display = "none"
                document.getElementById('xEmail').style.borderColor = "black"

            } else {
                document.getElementById('em_check').style.display = "block"
                document.getElementById('xEmail').style.borderColor = "red"
                document.getElementsByClassName('svg1')[0].style.display = "block"
            }

           
            //************* for Pass Validation *****************************
            let inputPass = xPass.value;
         
            if (inputPass!="" ) {
                document.getElementsByClassName('svg1')[1].style.display = "none"
                document.getElementById('pass_check').style.display = "none";
                document.getElementById('xPass').style.borderColor = "black"
  

            } else {
                document.getElementsByClassName('svg1')[1].style.display = "block"
                document.getElementById('pass_check').style.display = "block"
                document.getElementById('pass_check').style.fontWeight = "bold"
                document.getElementById('xPass').style.borderColor = "red"

            }

 //************* for Pass and Email matching and localStorege/Sessionstorage User_data_Store  *****************************

        let ToF = false;
        let uIndex = null;
        let formData = JSON.parse(localStorage.getItem('formData')) || [];
        
        formData.forEach((element,arrayIndex) => {
          if(element.Mail==inputMail){
            ToF = true;
            uIndex = arrayIndex;
          }
        });
       
        if (ToF && formData[uIndex].Pass==inputPass) {

          document.getElementById("LogV").innerHTML= "logged in successfuly ";
          sessionStorage.Mail =formData[uIndex].Mail;
          sessionStorage.Pass =formData[uIndex].Pass;
          window.open("https://yo.orange.jo/orange-coding-academy" ,"_blank" );
          e.preventDefault()

        }else if(ToF && formData[uIndex].Pass !==inputPass){

          document.getElementById("LogV").innerHTML= "Wrong password Pleas tray again";
          e.preventDefault();
        }else if(!ToF){

          document.getElementById("LogV").innerHTML= "account not found Sign up please";
          e.preventDefault();
        }else{
          document.getElementById("LogV").innerHTML= "";
        }
        e.preventDefault();

        }


//**************************************** The Eye thing ******************************************************************************************************

        const togglePassword = document.querySelector('#togglePassword');
        const password = document.querySelector('#xPass');
        togglePassword.addEventListener('click', function (e) {
            // toggle the type attribute
            const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
            password.setAttribute('type', type);
            // toggle the eye slash icon
            this.classList.toggle('fa-eye-slash');
        });

//**************************************************************************************************************************************************************
    
    </script>

</body>
</html>